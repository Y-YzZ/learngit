Apache Kafka 是一款开源的分布式的消息引擎系统。
## 消息引擎系统
### 定义
- 根据维基百科的定义，消息引擎系统是一组规范。企业利用这组规范在不同系统之间传递语义准确的消息，实现松耦合的异步式数据传递。
- 系统 A 发送消息给消息引擎系统，系统 B 从消息引擎系统中读取 A 发送的消息。
### 消息编码格式
纯二进制的字节序列。消息还是结构化的，只是在使用之前都要将其转换成二进制的字节序列。
### 传输协议
Kafka同时支持以下两种消息引擎模型
- __点对点模型：__ 也叫消息队列模型，A的消息只能由B接收，类似电话的1V1
- __发布/订阅模型：__ 存在主题（topic），发布者（Publisher），订阅者（Subscriber）的概念，和mqtt类似，客户端作为发布者发布某个主题消息，也可以作为订阅者订阅相应主题的消息。类似与某个话题（=topic）中用户可以提出（=publish）自己的各种想法，其他用户可以通过关注（=subscribe）该话题来看其他人的想法，同时自己也可以发表(=publish)意见
### 削峰填谷
- 对抗上下游系统TPS的错配以及瞬时峰值流量，避免流量震荡。如，秒杀业务中，Kafka将瞬时增加的订单流量保存在对应的主题中，不影响上游服务的TPS，也给下游服务留出了充足的时间去消费。[TPS/QPS/系统吞吐量](https://blog.csdn.net/u010889616/article/details/83245695)

- 发送方和接收方松耦合，简化了应用的开发，减少了系统间不必要的交互。

## Kafka术语
- 主题（Topic）：发布和订阅的对象
- 生产者（Producer）：向主题发布消息的客户端程序
- 消费者（Consumer）：订阅主题的客户端应用程序
- 客户端（Clients）：生产者和消费者统称客户端
- Kafka集群：由多个Broker的服务进程构成
- Broker：负责接收和处理客户端发来的请求，以及对消息进行持久化

高可用
- 将Broker分散运行在不同机器上，保证一台机器宕机后，其他机器的Broker也依然能够对外提供服务。（虽然多个Broker进程也可以运行在同一机器上）
- 备份机制（Replication）:

